<!DOCTYPE html>
<html lang="en">
	<head>
		<title>three.js webgl - GLTFloader</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/08d40dd0f8.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="header.css">
	</head>

	<body>
    <div class="nav-desk">
      <div>
        <img src="./logo.png" alt="" />
      </div>
      <ul>
        <li><a href="">Home</a></li>
        <li><a href="">Productos</a></li>
        <li><a href="">Servicios</a></li>
        <li><a href="">Contacto</a></li>
      </ul>
      <div class="icon-cart">
        <i class="fa-solid fa-cart-shopping"></i>
      </div>
    </div>

    <!-- Header mobile -->
    <div class="nav-mobile">
      <div class="menu-mobile">
        <div class="openMenu"><i class="fa-solid fa-bars"></i></ion-icon></div>
        <ul class="mainMenu">
          <li><a href="">Home</a></li>
          <li><a href="">Productos</a></li>
          <li><a href="">Servicios</a></li>
          <li><a href="">Contacto</a></li>
          <div class="closeMenu"><i class="fa-solid fa-xmark"></i></ion-icon></div>
        </ul>
      </div>
      <div>
        <img src="./logo.png" alt="" />
      </div>
      <div class="icon-cart">
        <i class="fa-solid fa-cart-shopping"></i>
      </div>
    </div>

    <main>

      <div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="false">
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="./image2.jpeg" class="d-block w-70 m-auto" alt="...">
          </div>
          <div class="carousel-item">
            <img src="./image3.jpg" class="d-block w-70 m-auto" alt="...">
          </div>
          <div class="carousel-item">
            <div class="image fullscreen" id="fullscreen">
              <span class="fs-button"><i class="fa-solid fa-expand"></i></span>
              <i class="fa-solid fa-hand-back-fist"></i>
            </div>
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>


      <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="false">
        <div class="carousel-indicators">
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
          <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
        </div>
        <div class="carousel-inner">
          <div class="carousel-item active">
            <img src="./helmet.jpg" class="d-block w-70" alt="...">
          </div>
          <div class="carousel-item">
            <img src="./helmet2.webp" class="d-block w-70" alt="...">
          </div>
          <div class="carousel-item">
            <div class="sketchfab-embed-wrapper"> <iframe title="Visored Barbuta Helmet" frameborder="0" allowfullscreen mozallowfullscreen="true" webkitallowfullscreen="true" allow="autoplay; fullscreen; xr-spatial-tracking" xr-spatial-tracking execution-while-out-of-viewport execution-while-not-rendered web-share src="https://sketchfab.com/models/8ce8003e097a4e30a5b96f612200f986/embed"> </iframe> <p style="font-size: 13px; font-weight: normal; margin: 5px; color: #4A4A4A;"> <a href="https://sketchfab.com/3d-models/visored-barbuta-helmet-8ce8003e097a4e30a5b96f612200f986?utm_medium=embed&utm_campaign=share-popup&utm_content=8ce8003e097a4e30a5b96f612200f986" target="_blank" style="font-weight: bold; color: #1CAAD9;"> Visored Barbuta Helmet </a> by <a href="https://sketchfab.com/Multipainkiller_Studio?utm_medium=embed&utm_campaign=share-popup&utm_content=8ce8003e097a4e30a5b96f612200f986" target="_blank" style="font-weight: bold; color: #1CAAD9;"> Multipainkiller Studio </a> on <a href="https://sketchfab.com?utm_medium=embed&utm_campaign=share-popup&utm_content=8ce8003e097a4e30a5b96f612200f986" target="_blank" style="font-weight: bold; color: #1CAAD9;">Sketchfab</a></p></div>
          </div>
        </div>
        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
          <span class="carousel-control-prev-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Previous</span>
        </button>
        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
          <span class="carousel-control-next-icon" aria-hidden="true"></span>
          <span class="visually-hidden">Next</span>
        </button>
      </div>

  </main>

  <script>
    document.querySelector('.fs-button').addEventListener('click', function(){
      console.log('hola')
    var elem = document.getElementById('fullscreen');
    if(document.webkitFullscreenElement) {
      document.webkitCancelFullScreen();
    }
    else {
      elem.webkitRequestFullScreen();
    };
  });
  </script>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
		<!-- Import maps polyfill -->
		<!-- Remove this when import maps will be widely supported -->
		<script async src="https://unpkg.com/es-module-shims@1.3.6/dist/es-module-shims.js"></script>

		<script type="importmap">
			{
				"imports": {
					"three": "./build/three.module.js"
				}
			}
		</script>

		<script type="module">

			import * as THREE from 'three';

			import { OrbitControls } from './jsm/controls/OrbitControls.js';
			import { GLTFLoader } from './jsm/loaders/GLTFLoader.js';
			import { RGBELoader } from './jsm/loaders/RGBELoader.js';

			let camera, scene, renderer;

			init();
			render();

			function init() {
        const image = document.querySelector('.image');

				camera = new THREE.PerspectiveCamera( 45, window.innerWidth / window.innerHeight, 0.25, 20 );
				camera.position.set( - 1.8, 0.6, 2.7 );

				scene = new THREE.Scene();

				new RGBELoader()
					.setPath( 'textures/equirectangular/' )
					.load( 'neon_photostudio_1k.hdr', function ( texture ) {

						texture.mapping = THREE.EquirectangularReflectionMapping;

						scene.background = texture;
						scene.environment = texture;

						render();

						// model

						const loader = new GLTFLoader().setPath( 'models/gltf/DamagedHelmet/glTF/' );
						loader.load( 'DamagedHelmet.gltf', function ( gltf ) {

							scene.add( gltf.scene );

							render();

						} );

					} );

				renderer = new THREE.WebGLRenderer( { antialias: true } );
				renderer.setPixelRatio( window.devicePixelRatio );
				renderer.setSize( 800, 500 );
				renderer.toneMapping = THREE.ACESFilmicToneMapping;
				renderer.toneMappingExposure = 1;
				renderer.outputEncoding = THREE.sRGBEncoding;
				image.appendChild( renderer.domElement );
				const controls = new OrbitControls( camera, renderer.domElement );
				controls.addEventListener( 'change', render ); // use if there is no animation loop
				controls.minDistance = 2;
				controls.maxDistance = 10;
				controls.target.set( 0, 0, - 0.2 );
				controls.update();

				window.addEventListener( 'resize', onWindowResize );

			}

			function onWindowResize() {

				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();

				renderer.setSize( window.innerWidth, window.innerHeight );

				render();

			}

			//

			function render() {

				renderer.render( scene, camera );

			}

		</script>

	</body>
</html>